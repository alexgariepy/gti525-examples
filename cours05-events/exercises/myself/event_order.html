<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

<div id="outer_div" class="row">
  <div class="col s12 m12 l6 xl6">
    <div id="one" class="card-panel blue lighten-1">
      <div id="two" class="card-panel deep-purple lighten-1">
        <div id="three" class="card-panel teal darken-3">
          <div id="four" class="card-panel indigo darken-2 center-align">
            <button id="btn" class="btn">Cliquez sur moi</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>


// This script demonstrates event propagation in the DOM
// Bubbling goes from the target element up to the root
function bubbleHandler (e) {
  console.log("Gestionnaire bubble appelé sur: " + e.currentTarget.id);
  console.log("Cible de l'événement: " + e.target.id);
}

function bubbleHandler2 (e) {
  console.log("Gestionnaire bubble 2 appelé sur: " +  e.currentTarget.id);
  console.log("Cible de l'événement: " + e.target.id);
  // Stop propagation if the current target is "three"
  if (e.currentTarget.id == "three") {
    e.stopImmediatePropagation();
  }
}

// Capture handler goes out to in the DOM tree
function captureHandler (e) {
  console.log("Gestionnaire capture appelé sur: " +  e.currentTarget.id);
  console.log("Cible de l'événement: " + e.target.id);
}

const one = document.getElementById("one");
const two = document.getElementById("two");
const three = document.getElementById("three");
const four = document.getElementById("four");
const btn = document.getElementById("btn");

one.addEventListener("click", bubbleHandler);
two.addEventListener("click", bubbleHandler);
three.addEventListener("click", bubbleHandler);
three.addEventListener("click", bubbleHandler2);
four.addEventListener("click", bubbleHandler);
btn.addEventListener("click", bubbleHandler);

one.addEventListener("click", captureHandler, true);
two.addEventListener("click", captureHandler, true);
three.addEventListener("click", captureHandler, true);
four.addEventListener("click", captureHandler, true);
btn.addEventListener("click", captureHandler, true);

</script>